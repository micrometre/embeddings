<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Semantic Quiz - AI-Powered Answer Grading</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/src/styles.css">

  <style>

  </style>
</head>

<body>
  <div class="container">
    <div class="status">
      <div class="status-item">
        <div class="status-icon" id="model-status"></div>
        <span id="model-status-text">Loading AI model...</span>
      </div>
      <div class="progress-bar">
        <div class="progress-fill" id="progress-fill"></div>
      </div>
    </div>


    <header class="header">
      <h1>üß† Semantic Quiz</h1>
      <p class="subtitle">AI-powered answer grading using Transformers.js - 100% in your browser</p>
      <div class="badges">
        <span class="badge badge-orange">Transformers.js</span>
        <span class="badge badge-green">MIT License</span>
        <span class="badge badge-blue">100% Client-Side</span>
        <span class="badge badge-blue">
          Repo:
          <a href="https://github.com/micrometre/embeddings" target="_blank">üåü Repo: embeddings-quiz</a>
        </span>
        <span class="badge badge-blue">
          <a href="https://henok.cloud/articles/semantic-quiz-transformers-js/" target="_blank">üìñ Read Article</a>
        </span>
      </div>
    </header>

    <!-- Interactive Quiz Section -->
    <div class="quiz-section">
      <h2>üéØ Test Your Knowledge</h2>
      <div class="quiz-header">
        <span class="quiz-progress" id="quiz-progress">Question 1 of 5</span>
        <span class="quiz-score" id="quiz-score">Score: 0/0 (0%)</span>
      </div>
      <div class="quiz-question" id="quiz-question">Loading quiz...</div>
      <textarea class="quiz-answer-input" id="quiz-answer"
        placeholder="Type your answer here... (Press Enter to submit)" disabled></textarea>
      <div class="quiz-buttons">
        <button id="submit-answer-btn" disabled>Submit Answer</button>
        <button id="show-hint-btn" class="btn-primary" disabled>Show Hint</button>
        <button id="next-question-btn" class="btn-success" style="display: none;">Next Question</button>
      </div>
      <div class="quiz-feedback" id="quiz-feedback"></div>
    </div>

    <!-- Educational Info Section -->
    <div class="info-section">
      <h2>üìñ How Does Semantic Quiz Grading Work?</h2>
      <div class="info-grid">
        <div class="info-card">
          <h3>üî§ Text to Numbers</h3>
          <p>The answer is converted into a <strong>384-dimensional vector</strong> (a list of 384 numbers) using the
            <code>all-MiniLM-L6-v2</code> transformer model. This captures the <em>meaning</em>
            of the text, not just the exact words.
          </p>
        </div>
        <div class="info-card">
          <h3>üìê Cosine Similarity</h3>
          <p>We compare the answer vector to the expected answer vector by measuring the
            <strong>angle</strong> between them. Smaller angle = higher similarity. This means paraphrased answers still
            get credit!
          </p>
          <div class="formula-box">
            <div class="formula">similarity = (A ¬∑ B) / (||A|| √ó ||B||)</div>
            <div class="formula-desc">Dot product divided by the product of magnitudes</div>
          </div>
        </div>
        <div class="info-card">
          <h3>üß† Why Embeddings?</h3>
          <p>Unlike exact text matching, embeddings understand that
            <em>"Paris is the capital"</em> and <em>"The capital of France is Paris"</em> mean the same thing. This is
            the power of semantic understanding!
          </p>
        </div>
        <div class="info-card">
          <h3>‚ö° 100% Browser-Based</h3>
          <p>Everything runs locally in your browser using <strong>WebAssembly (WASM)</strong>. No data is sent to any
            server - your answers stay private. The model is cached after first load for instant startup.</p>
        </div>
      </div>

      <div class="collapsible-content expanded" id="scoring-details" style="max-height:none;">
        <div class="info-card" style="margin-top: 1rem;">
          <h3>üéØ Scoring System</h3>
          <p>Your score is determined by how semantically similar your answer is to the expected answer:</p>
          <table class="scoring-table">
            <thead>
              <tr>
                <th>Similarity</th>
                <th>Rating</th>
                <th>Points</th>
                <th>Meaning</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="excellent">‚â• 85%</td>
                <td class="excellent">Excellent!</td>
                <td>1.0</td>
                <td>Your answer captures the core concept accurately</td>
              </tr>
              <tr>
                <td class="good">‚â• 70%</td>
                <td class="good">Good!</td>
                <td>0.8</td>
                <td>Good understanding with minor gaps</td>
              </tr>
              <tr>
                <td class="partial">‚â• 55%</td>
                <td class="partial">Partial</td>
                <td>0.5</td>
                <td>Some relevant concepts mentioned</td>
              </tr>
              <tr>
                <td class="try-again">&lt; 55%</td>
                <td class="try-again">Try Again</td>
                <td>0</td>
                <td>Answer doesn't match the expected concept</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

  </div>

  <script>
    // Collapsible scoring breakdown removed; scoring details always visible.
  </script>
  <script type="module" src="/src/main.js"></script>
</body>

</html>